{{ 'curated-brands.css' | asset_url | stylesheet_tag }}

<div class="curated_products_ctr">
  <ul class="curated_product_images">
    {% for brand in section.settings.brands %}
      <li class="curated_product_item">
        <div>
          <img src="{{ brand.metafields.custom.banner_image | image_url: width: 1920, height: 1080 }}" 
            alt="lalalala"
            width="1920"
            height="1080"
          />
        </div>
      </li>
    {% endfor %}
  </ul>
  <div class="curated_product_names_box">
    <div class="curated_product_names_wrapper">
      <span class="curated_product_names_text">CURATED BRANDS</span>
      <ul class="curated_product_names">
        {% for brand in section.settings.brands %}
          <li>
            <p class="curated_product_name">{{ brand.title }}</p>
          </li>
        {% endfor %}
      </ul>
      <a class="curated_product_discover" href="">DISCOVER <img src="{{ 'icon-white-arrow-right.svg' |  asset_url }}" width="20" height="20" alt=""></a>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
      const brandSection = document.querySelectorAll('.curated_product_item')
      const brandNames = document.querySelectorAll('.curated_product_name')
      brandSection.forEach((section, index) => {
        ScrollTrigger.create({
          trigger: section,
          start: "top center",
          end: "bottom center",
          // markers: true,
          onToggle: (self) => {
            if (self.isActive) {
              brandNames.forEach(name => name.classList.remove('active'));
              brandNames[index].classList.add('active');
            }
          },
        });
      });
  });
</script>

{%  schema  %} 
{
  "name": "Curated Brands",
  "settings": [
    {
      "type": "collection_list",
      "id": "brands",
      "label": "Brands",
      "info": "Add brand images and names to showcase curated brands.",
      "limit": 6
      
    }
  ],
  "presets": [
    {
      "name": "Curated Brands"
    }
  ]
}
{% endschema %} 